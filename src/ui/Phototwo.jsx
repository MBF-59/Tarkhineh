import React, { useEffect, useState } from "react";

import Loading from "./Loading";
import usePhoto2 from "../featuers/Home/getphoto2";

function Phototwo() {
  const { data, isLoading } = usePhoto2();
  const [photo, setphoto] = useState([]);
  const [photonum, sephotonumber] = useState(2);
  //برای جا به جایی خودکار نوشته شده است
  // const[time,settime]=useState(5)
  // useEffect(() => {
  //   const timer = time > 0 && setInterval(() => {
  //     settime((t) => t - 1);
  //     sephotonumber((p) => p - 1);
  //   }, 3000);

  //   return () => {
  //     if (timer) clearInterval(timer);
  //   };
  // }, [time]);

  if (isLoading) return <Loading />;
  console.log(data);
  return (
    <>
      <div className="   relative mx-auto mt-5 w-full flex items-center justify-center   ">




      <div className="absolute bottom-0 left-1/2 -translate-x-1/2 -mb-20 w-[calc(100vw-2rem)] rounded-sm border-2 max-w-5xl gap-x-20 flex-1  border-primary bg-white flex flex-col items-center justify-center gap-y-3 xl:flex-row xl:justify-between xl:items-center xl:px-10 ">



<div className="flex flex-row-reverse items-center justify-center gap-x-2 px-2 pt-2 xl:flex-col-reverse xl:my-3   ">
  <span className="break-words w-full text-sm mt-2 pb-2 ">{data[photonum]?.address}</span>
  <svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" fill="none"><path fill="#353535" d="M23.6 30.333c-1.507 0-3.094-.36-4.734-1.053-1.6-.68-3.213-1.613-4.787-2.747a41.607 41.607 0 0 1-4.493-3.826 39.827 39.827 0 0 1-3.826-4.48c-1.147-1.6-2.067-3.2-2.72-4.747C2.346 11.827 2 10.227 2 8.72c0-1.04.186-2.027.546-2.947a7.121 7.121 0 0 1 1.787-2.586c1.027-1.014 2.2-1.52 3.453-1.52.52 0 1.054.12 1.507.333.52.24.96.6 1.28 1.08l3.093 4.36c.28.387.493.76.64 1.133.174.4.267.8.267 1.187 0 .507-.147 1-.427 1.467-.2.36-.507.746-.893 1.133l-.907.947c.014.04.027.066.04.093.16.28.48.76 1.094 1.48a50.159 50.159 0 0 0 1.88 2.053c.786.774 1.44 1.387 2.053 1.894.76.64 1.253.96 1.546 1.106l-.026.067.973-.96c.414-.413.814-.72 1.2-.92.733-.453 1.667-.533 2.6-.147.347.147.72.347 1.12.627l4.427 3.147c.493.333.853.76 1.067 1.266.2.507.293.974.293 1.44 0 .64-.147 1.28-.427 1.88a6.21 6.21 0 0 1-1.067 1.6c-.76.84-1.586 1.44-2.546 1.827-.92.373-1.92.573-2.974.573ZM7.785 3.667c-.733 0-1.413.32-2.066.96-.614.573-1.04 1.2-1.307 1.88A5.834 5.834 0 0 0 4 8.72c0 1.24.293 2.587.88 3.973.6 1.414 1.44 2.88 2.506 4.347A36.898 36.898 0 0 0 11 21.28a37.538 37.538 0 0 0 4.254 3.627c1.44 1.053 2.92 1.906 4.387 2.52 2.28.973 4.413 1.2 6.173.466.68-.28 1.28-.706 1.827-1.32.306-.333.546-.693.746-1.12.16-.333.24-.68.24-1.026 0-.214-.04-.427-.146-.667-.04-.08-.12-.227-.374-.4l-4.427-3.147a3.821 3.821 0 0 0-.733-.413c-.293-.12-.413-.24-.867.04-.266.133-.506.333-.773.6l-1.013 1c-.52.507-1.32.627-1.933.4l-.36-.16c-.547-.293-1.187-.747-1.894-1.347a41.85 41.85 0 0 1-2.173-2.013 46.645 46.645 0 0 1-1.987-2.16c-.627-.733-1.08-1.36-1.36-1.88l-.16-.4c-.08-.307-.107-.48-.107-.667 0-.48.174-.906.507-1.24l1-1.04c.267-.266.467-.52.6-.746a.855.855 0 0 0 .147-.454c0-.106-.04-.266-.107-.426a3.827 3.827 0 0 0-.426-.707L8.946 4.227a1.229 1.229 0 0 0-.493-.414 1.67 1.67 0 0 0-.667-.146Zm11.147 16.346-.213.907.36-.933c-.067-.014-.12 0-.147.026ZM25 13c-.547 0-1-.453-1-1 0-.48-.48-1.48-1.28-2.333-.787-.84-1.654-1.334-2.387-1.334-.547 0-1-.453-1-1 0-.546.453-1 1-1 1.293 0 2.653.694 3.84 1.96C25.28 9.48 26 10.933 26 12c0 .547-.454 1-1 1ZM29.666 13c-.546 0-1-.453-1-1 0-4.6-3.733-8.333-8.333-8.333-.547 0-1-.454-1-1 0-.547.453-1 1-1 5.693 0 10.333 4.64 10.333 10.333 0 .547-.453 1-1 1Z"/></svg>
</div>


<div className="flex flex-row-reverse items-center gap-x-2 xl:flex-col-reverse  xl:my-3">
  <span className=" mt-2">{data[photonum]?.number}</span>
  <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" fill="none"><path fill="#353535" d="M16 18.893a5.164 5.164 0 0 1-5.16-5.16c0-2.853 2.32-5.146 5.16-5.146 2.84 0 5.16 2.306 5.16 5.16 0 2.853-2.32 5.146-5.16 5.146Zm0-8.306a3.167 3.167 0 0 0-3.16 3.16 3.158 3.158 0 0 0 3.16 3.16 3.158 3.158 0 0 0 3.16-3.16 3.167 3.167 0 0 0-3.16-3.16Z"/><path fill="#353535" d="M16 30.347a7.96 7.96 0 0 1-5.506-2.227c-3.934-3.787-8.28-9.827-6.64-17.013 1.48-6.52 7.173-9.44 12.146-9.44h.014c4.973 0 10.666 2.92 12.146 9.453 1.627 7.187-2.72 13.213-6.653 17A7.96 7.96 0 0 1 16 30.347Zm0-26.68c-3.88 0-8.866 2.066-10.186 7.88-1.44 6.28 2.506 11.693 6.08 15.12a5.9 5.9 0 0 0 8.226 0c3.56-3.427 7.507-8.84 6.094-15.12C24.88 5.733 19.88 3.667 16 3.667Z"/></svg>
</div>


<div className="flex flex-row-reverse items-center gap-x-2 xl:flex-col-reverse  xl:my-3">
  <span className=" mt-2">{data[photonum]?.work}</span>
  <svg xmlns="http://www.w3.org/2000/svg" width="33" height="32" fill="none"><path fill="#353535" d="M16.666 30.333C8.76 30.333 2.333 23.907 2.333 16S8.76 1.667 16.666 1.667C24.573 1.667 31 8.093 31 16s-6.427 14.333-14.334 14.333Zm0-26.666C9.866 3.667 4.333 9.2 4.333 16s5.533 12.333 12.333 12.333S29 22.8 29 16 23.466 3.667 16.666 3.667Z"/><path fill="#353535" d="M21.613 21.24a.893.893 0 0 1-.506-.147l-4.134-2.466c-1.026-.614-1.786-1.96-1.786-3.147v-5.467c0-.546.453-1 1-1 .546 0 1 .454 1 1v5.467c0 .48.4 1.187.813 1.427l4.133 2.466c.48.28.627.894.347 1.374-.2.32-.534.493-.867.493Z"/></svg>

</div>

</div>

        <button
          onClick={() => {
            sephotonumber(photonum - 1);
          }}
        >
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="32"
            height="32"
            fill="none"
            className={`absolute  right-2 top-1/2 bottom-1/2  -translate-y-1/2 ${
              data[photonum]?.id == 1 ? "hidden" : ""
            } `}
          >
            <path
              fill="#fff"
              d="M11.88 27.56a.989.989 0 0 1-.707-.293 1.006 1.006 0 0 1 0-1.414l8.694-8.693c.64-.64.64-1.68 0-2.32l-8.694-8.693a1.006 1.006 0 0 1 0-1.414 1.006 1.006 0 0 1 1.414 0l8.693 8.694c.68.68 1.067 1.6 1.067 2.573 0 .973-.374 1.893-1.067 2.573l-8.693 8.694c-.2.186-.454.293-.707.293Z"
            />
          </svg>
        </button>
        <img
          className="w-full h-52    object-cover"
          src={data[photonum]?.image}
          alt=""
        />

        <button
          onClick={() => {
            sephotonumber(photonum + 1);
          }}
        >
          <svg
            width="32"
            height="32"
            viewBox="0 0 32 32"
            fill="none"
            className={`absolute z-1 left-2 top-1/2 bottom-1/2  -translate-y-1/2 ${
              data[photonum]?.id == 4 ? "hidden" : ""
            }`}
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M20 27.56C19.7467 27.56 19.4934 27.4667 19.2934 27.2667L10.6 18.5734C9.18671 17.16 9.18671 14.84 10.6 13.4267L19.2934 4.73336C19.68 4.34669 20.32 4.34669 20.7067 4.73336C21.0934 5.12003 21.0934 5.76003 20.7067 6.14669L12.0134 14.84C11.3734 15.48 11.3734 16.52 12.0134 17.16L20.7067 25.8534C21.0934 26.24 21.0934 26.88 20.7067 27.2667C20.5067 27.4534 20.2534 27.56 20 27.56Z"
              fill="white"
            />
          </svg>
        </button>
      </div>
    </>
  );
}

export default Phototwo;
